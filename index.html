<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡πÄ‡∏Å‡∏°‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏Ñ‡∏≥‡∏£‡∏≤‡∏ä‡∏≤‡∏®‡∏±‡∏û‡∏ó‡πå</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 20px auto;
      max-width: 800px;
      text-align: center;
      background-color: #ffe6f0;
    }
    h2 { color: #0066cc; }
    .container {
      display: flex;
      justify-content: space-between;
      border: 2px solid #ccc;
      border-radius: 10px;
      padding: 20px;
      background-color: #f9f9f9;
    }
    .column { width: 45%; }
    .item {
      background: #eef;
      padding: 10px;
      margin: 8px 0;
      cursor: pointer;
      border-radius: 8px;
      transition: background 0.3s;
    }
    .item:hover { background: #dde; }
    .selected { border: 2px solid #999; }
    .matched { background: #afa; cursor: default; }
    .correct-match { background: #cfc !important; }
    .wrong-match { background: #fbb !important; }
    .hidden { display: none; }
    #message { margin-top: 20px; font-weight: bold; font-size: 1.2em; }
    .correct { color: green; }
    .wrong { color: red; }
    .score { color: #cc00cc; margin-top: 10px; }
    .answer-box {
      margin-top: 30px;
      text-align: left;
      background-color: #f0fff0;
      padding: 15px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    .answer-line { margin: 3px 0; }
    #timer { color: #990000; font-size: 1.2em; margin-top: 10px; }
    #start-screen {
      background: #fff0f5;
      padding: 30px;
      border-radius: 15px;
      max-width: 500px;
      margin: auto;
    }
    input[type="text"] {
      padding: 10px;
      width: 80%;
      border: 1px solid #ccc;
      border-radius: 8px;
      margin-bottom: 15px;
    }
    button {
      padding: 10px 20px;
      margin: 10px;
      font-size: 1em;
      border-radius: 8px;
      cursor: pointer;
    }
    #game-screen { display: none; }
  </style>
</head>
<body>

<div id="start-screen">
  <h2>üéÆ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏Ñ‡∏≥‡∏£‡∏≤‡∏ä‡∏≤‡∏®‡∏±‡∏û‡∏ó‡πå</h2>
  <p>‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏ß‡πà‡∏≤‡∏á‡∏Å‡πá‡πÑ‡∏î‡πâ)</p>
  <input type="text" id="playerName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏™‡∏°‡∏ä‡∏≤‡∏¢">
  <br>
  <button onclick="startGame()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
</div>

<div id="game-screen">
  <h2>üéØ ‡πÄ‡∏Å‡∏°‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà: ‡∏Ñ‡∏≥‡∏£‡∏≤‡∏ä‡∏≤‡∏®‡∏±‡∏û‡∏ó‡πå ‚Üî ‡∏Ñ‡∏≥‡∏™‡∏≤‡∏°‡∏±‡∏ç</h2>
  <p id="playerInfo"></p>
  <p>‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏£‡∏≤‡∏ä‡∏≤‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ù‡∏±‡πà‡∏á‡∏ã‡πâ‡∏≤‡∏¢ ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ñ‡∏≥‡∏™‡∏≤‡∏°‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô‡∏ó‡∏≤‡∏á‡∏Ç‡∏ß‡∏≤</p>
  <div id="timer">‚è≥ ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤: 5:00</div>

  <div class="container">
    <div id="left" class="column"><h3>üëë ‡∏Ñ‡∏≥‡∏£‡∏≤‡∏ä‡∏≤‡∏®‡∏±‡∏û‡∏ó‡πå</h3></div>
    <div id="right" class="column"><h3>üôã ‡∏Ñ‡∏≥‡∏™‡∏≤‡∏°‡∏±‡∏ç</h3></div>
  </div>

  <div id="message"></div>
  <div id="score" class="score">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 0</div>
  <div id="answers" class="answer-box hidden"></div>

  <button onclick="setup()">üîÅ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï</button>
  <button onclick="location.reload()">üîÑ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
  <div style="margin-top: 40px; padding: 15px; background: #e6f2ff; border-radius: 10px;">
    <h3 style="color: #004080;">üë• ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥</h3>
    <ul style="list-style: none; padding-left: 0; font-size: 1.1em;">
      <li>1. ‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏†‡∏Ñ‡∏û‡∏£ ‡πÇ‡∏ñ‡∏á‡∏≤‡∏°</li>
      <li>2. ‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏Å‡∏°‡∏•‡∏ä‡∏ô‡∏Å ‡∏ß‡∏¥‡∏£‡∏¥‡∏¢‡∏≤</li>
    </ul>
  </div>
</div>

<script>
  const pairs = [
    { royal: "‡πÄ‡∏™‡∏ß‡∏¢", common: "‡∏Å‡∏¥‡∏ô" },
    { royal: "‡∏û‡∏£‡∏∞‡∏£‡∏≤‡∏ä‡πÇ‡∏≠‡∏£‡∏™", common: "‡∏•‡∏π‡∏Å‡∏ä‡∏≤‡∏¢" },
    { royal: "‡∏û‡∏£‡∏∞‡∏£‡∏≤‡∏ä‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô", common: "‡πÄ‡∏î‡∏¥‡∏ô" },
    { royal: "‡∏û‡∏£‡∏∞‡∏´‡∏±‡∏ï‡∏ñ‡πå", common: "‡∏°‡∏∑‡∏≠" },
    { royal: "‡∏û‡∏£‡∏∞‡∏û‡∏±‡∏Å‡∏ï‡∏£‡πå", common: "‡∏´‡∏ô‡πâ‡∏≤" },
    { royal: "‡∏™‡∏ß‡∏£‡∏£‡∏Ñ‡∏ï", common: "‡∏ï‡∏≤‡∏¢" },
    { royal: "‡∏ó‡∏£‡∏á‡∏û‡∏£‡∏∞‡∏î‡∏≥‡∏£‡∏¥", common: "‡∏Ñ‡∏¥‡∏î" },
    { royal: "‡∏û‡∏£‡∏∞‡πÄ‡∏ô‡∏ï‡∏£", common: "‡∏ï‡∏≤" },
    { royal: "‡∏û‡∏£‡∏∞‡∏Å‡∏£‡∏£‡∏ì", common: "‡∏´‡∏π" },
    { royal: "‡∏û‡∏£‡∏∞‡∏£‡∏≤‡∏ä‡∏ó‡∏≤‡∏ô", common: "‡πÉ‡∏´‡πâ" }
  ];

  let selectedRoyal = null, selectedCommon = null;
  let matched = 0, score = 0, timeLeft = 300, timerInterval;

  function shuffle(arr) {
    return arr.sort(() => Math.random() - 0.5);
  }

  function startGame() {
    const name = document.getElementById("playerName").value;
    document.getElementById("start-screen").style.display = "none";
    document.getElementById("game-screen").style.display = "block";
    document.getElementById("playerInfo").textContent = name ? `‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô: ${name}` : "";

    setup();
    startTimer();
  }

  function setup() {
    const leftDiv = document.getElementById("left");
    const rightDiv = document.getElementById("right");
    document.getElementById("message").textContent = "";
    document.getElementById("score").textContent = "‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 0";
    document.getElementById("answers").classList.add("hidden");
    document.getElementById("answers").innerHTML = "";

    matched = 0; score = 0;
    selectedRoyal = selectedCommon = null;

    const royalWords = shuffle([...pairs]);
    const commonWords = shuffle(pairs.map(p => p.common));

    leftDiv.innerHTML = "<h3>üëë ‡∏Ñ‡∏≥‡∏£‡∏≤‡∏ä‡∏≤‡∏®‡∏±‡∏û‡∏ó‡πå</h3>";
    rightDiv.innerHTML = "<h3>üôã ‡∏Ñ‡∏≥‡∏™‡∏≤‡∏°‡∏±‡∏ç</h3>";

    royalWords.forEach(item => {
      const div = document.createElement("div");
      div.textContent = item.royal;
      div.className = "item";
      div.onclick = () => selectRoyal(div, item.royal);
      leftDiv.appendChild(div);
    });

    commonWords.forEach(word => {
      const div = document.createElement("div");
      div.textContent = word;
      div.className = "item";
      div.onclick = () => selectCommon(div, word);
      rightDiv.appendChild(div);
    });
  }

  function selectRoyal(div, word) {
    if (div.classList.contains("matched") || timeLeft <= 0) return;
    if (selectedRoyal) selectedRoyal.classList.remove("selected");
    selectedRoyal = div;
    div.classList.add("selected");
    checkMatch();
  }

  function selectCommon(div, word) {
    if (div.classList.contains("matched") || timeLeft <= 0) return;
    if (selectedCommon) selectedCommon.classList.remove("selected");
    selectedCommon = div;
    div.classList.add("selected");
    checkMatch();
  }

  function checkMatch() {
    if (selectedRoyal && selectedCommon) {
      const royalText = selectedRoyal.textContent;
      const commonText = selectedCommon.textContent;
      const pair = pairs.find(p => p.royal === royalText && p.common === commonText);

      if (pair) {
        selectedRoyal.classList.add("matched", "correct-match");
        selectedCommon.classList.add("matched", "correct-match");
        matched++; score++;
        showMessage("‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!", "correct");
      } else {
        selectedRoyal.classList.add("wrong-match");
        selectedCommon.classList.add("wrong-match");
        score = Math.max(0, score - 1);
        showMessage("‚ùå ‡∏ú‡∏¥‡∏î ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà!", "wrong");

        // ‡∏•‡∏ö‡∏™‡∏µ‡∏ú‡∏¥‡∏î‡∏´‡∏•‡∏±‡∏á 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
        setTimeout(() => {
          selectedRoyal.classList.remove("wrong-match");
          selectedCommon.classList.remove("wrong-match");
        }, 1000);
      }

      updateScore();

      selectedRoyal.classList.remove("selected");
      selectedCommon.classList.remove("selected");
      selectedRoyal = selectedCommon = null;

      if (matched === pairs.length) {
        clearInterval(timerInterval);
        showMessage("üéâ ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏°‡∏≤‡∏Å! ‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏Ñ‡∏£‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß!", "correct");
        showAnswers();
      }
    }
  }

  function showMessage(text, type) {
    const msg = document.getElementById("message");
    msg.textContent = text;
    msg.className = type;
  }

  function updateScore() {
    document.getElementById("score").textContent = "‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: " + score;
  }

  function showAnswers() {
    const box = document.getElementById("answers");
    box.classList.remove("hidden");
    box.innerHTML = "<h4>üìò ‡πÄ‡∏â‡∏•‡∏¢‡∏Ñ‡∏≥‡∏£‡∏≤‡∏ä‡∏≤‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</h4>";
    pairs.forEach(pair => {
      const line = document.createElement("div");
      line.className = "answer-line";
      line.innerHTML = `<strong>${pair.royal}</strong> = <span style="color: blue;">${pair.common}</span>`;
      box.appendChild(line);
    });
  }

  function startTimer() {
    timerInterval = setInterval(() => {
      if (timeLeft <= 0) {
        clearInterval(timerInterval);
        document.getElementById("timer").textContent = "‚è∞ ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡πâ‡∏ß!";
        showMessage("‚õî ‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏°‡∏î! ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á", "wrong");
        return;
      }

      timeLeft--;
      const min = Math.floor(timeLeft / 60);
      const sec = timeLeft % 60;
      document.getElementById("timer").textContent = `‚è≥ ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤: ${min}:${sec.toString().padStart(2, '0')}`;
    }, 1000);
  }
</script>
  
</body>
</html>
